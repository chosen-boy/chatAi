<!DOCTYPE html>
<!-- saved from url=(0037)https://www2.yuanqilian.com/text.html -->
<html lang="en">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>testChat</title>
		<style>
			/* 设置基本样式 */
			body {
				font-family: Arial, sans-serif;
				margin: 0;
				padding: 0;
			}

			.chat-container {
				height: 100vh;
				position: relative;
				max-width: 500px;
				margin: 20px auto;
				border: 1px solid #ccc;
				border-radius: 10px;
				overflow: hidden;
			}

			.chat-display {
				margin-bottom: 30vh;
				position: relative;
				padding: 10px;
				background-color: #fff;
				height: 70vh;
				overflow-y: scroll;
			}

			.list-container {
				position: absolute;
				bottom: 50px;
				left: 110px;
			}

			.chat-input {
				display: flex;
				position: absolute;
				width: 97%;
				bottom: 0;
				align-items: center;
				padding: 10px;
				background-color: #f5f5f5;
			}

			.chat-input input {
				flex-grow: 1;
				margin-right: 10px;
				padding: 5px;
				border: 1px solid #ccc;
				border-radius: 5px;
			}

			.chat-input button {
				padding: 5px 10px;
				background-color: #428bca;
				color: white;
				border: none;
				border-radius: 5px;
				cursor: pointer;
			}

			.message img {
				border-radius: 30px;
			}

			.scroll-list {
				/* margin-left: 100px; */
				/* padding-bottom: 200px; */
			}

			/* 显示时间 */
			.show-date {
				text-align: center;
				font-size: 15px;
				padding: 7px 0;
				color: gray;
			}

			/* 每行对话样式 */
			.row {
				display: flex;
			}


			.row2 {
				display: flex;
				flex-direction: row;
				justify-content: center;
				align-items: center;
				padding: 10px;
			}

			/* 提示信息 */
			.tips-text {
				text-align: center;
				justify-content: center;
				font-size: 28px;
				color: gray;
			}

			.row-self {
				flex-direction: row-reverse;
			}

			/* 头像 */
			.head-self {
				margin-left: 20px;
			}

			.head-friend {
				margin-right: 20px;
			}

			.avatar {
				width: 50px;
				height: 50px;
				border-radius: 30px;
				overflow: hidden;
			}

			.AInick {
				color: gray;
				font-size: 15px;
				margin-bottom: 15px;
			}


			.Mynick {
				color: gray;
				font-size: 15px;
				margin-bottom: 15px;
			}

			/* 消息内容 */
			.message {
				background-color: white;
				font-size: 18px;
				padding: 10px;
				display: flex;
				align-items: center;
				line-height: 20px;
			}

			.msg-self {
				border-radius: 10px;
				color: #434343;
				background-image: linear-gradient(to right, #33ccff, #B0E2FF);
			}

			.msg-friend {
				border-radius: 10px;
				color: #ffffff;
				background-image: linear-gradient(to right, #ff9933, #ff6633);
			}
		</style>
		<style>
			.moke-wrap {
				width: 100%;
				height: 100%;
				display: flex;
				justify-content: center;
				align-items: center;
				position: relative;
				background-size: cover;
				overflow: hidden;
				background-repeat: no-repeat;
			}

			.moke-wrap * {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}

			.moke-wrap .mask-init {
				position: absolute;
				width: 100%;
				height: 100%;
				background: rgba(0, 0, 0, 0.5);
			}

			.moke-wrap .app-come-back {
				position: absolute;
				width: 0.66em;
				height: 0.66em;
				left: 0.38em;
				top: 1.2em;
			}

			.moke-wrap .app-come-back img {
				width: 100%;
				height: 100%;
			}

			.svg {
				z-index: 100;
				position: fixed;
			}

			.iphone {
				height: 100%;
				width: 100%;
			}

			.rtc-container {
				display: flex;
				justify-content: flex-start;
				align-items: flex-start;
				position: absolute;
				overflow: hidden;
			}

			.rtc-container .show-video {
				position: absolute;
				width: 100%;
				height: 100%;
			}

			.rtc-container .show-video .default_canvas_2d_canvas {
				width: 100% !important;
				height: 100% !important;
			}

			.rtc-container .rtc-human {
				width: 100%;
				height: 100%;
				display: flex;
				justify-content: space-between;
				background-size: cover;
				aspect-ratio: 0.5625;
				position: relative;
				top: 0;
				left: 0;
				overflow: hidden;
			}

			.rtc-container .rtc-human .rtc-human-area {
				position: absolute;
			}

			.rtc-container .rtc-human .global-image,
			.rtc-container .rtc-human .global-text,
			.rtc-container .rtc-human .display-image,
			.rtc-container .rtc-human .display-text,
			.rtc-container .rtc-human .display-caption {
				position: absolute;
				white-space: nowrap;
			}

			.rtc-container .rtc-human .think-bs {
				position: absolute;
			}

			.rtc-container .rtc-human .think-bs img {
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				object-fit: contain;
			}

			.rtc-container .rtc-human .big-screen-action {
				position: absolute;
				box-sizing: border-box;
				backdrop-filter: blur(0.01em);
				background: linear-gradient(148.45deg, rgba(255, 255, 255, 0.7) -1.73%, rgba(255, 255, 255, 0.2) 42.09%);
				border: 0.025em solid rgba(255, 255, 255, 0.2);
				border-bottom: 0;
				transition: all 0.3s ease-in-out;
			}

			.rtc-container .rtc-human .big-screen-action .bs-action-bottom-bottom {
				box-sizing: border-box;
				position: absolute;
				bottom: 0em;
				width: calc(100% + 0.05em);
				transform: translate(-0.025em, 100.1%);
			}

			.rtc-container .rtc-human .big-screen-action .big-bg-wrap {
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
			}

			.rtc-container .rtc-human .big-screen-action .big-bg-wrap img {
				width: 100%;
				object-fit: contain;
			}

			.rtc-container .rtc-human .big-screen-action .big-screen-speak-wrap {
				position: absolute;
				left: 50%;
				width: calc(20% + 0.1em);
				background: rgba(255, 255, 255, 0.5);
				aspect-ratio: 1;
				display: flex;
				justify-content: center;
				align-items: center;
				border-radius: 50%;
				transform: translate(-50%, -50%);
				z-index: 1;
			}

			.rtc-container .rtc-human .big-screen-action .big-screen-speak {
				position: absolute;
				width: calc(100% - 0.1em);
				aspect-ratio: 1;
				border-radius: 50%;
				background: linear-gradient(180deg, #62C6FF 0%, rgba(67, 128, 248, 0.8) 100%), #5991FF;
				display: flex;
				justify-content: center;
				align-items: center;
				cursor: pointer;
			}

			.rtc-container .rtc-human .big-screen-action .big-screen-speak .animation-wrap {
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				transition: all 5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
				width: 100%;
				height: 100%;
			}

			.rtc-container .rtc-human .big-screen-action .big-screen-speak .animation-wrap div {
				display: flex;
				justify-content: center;
				align-items: center;
			}

			.rtc-container .rtc-human .big-screen-action .big-screen-speak .hidden {
				opacity: 0 !important;
			}

			.rtc-container .rtc-human .big-screen-action .big-screen-speak .yuyin {
				opacity: 0;
			}

			.rtc-container .rtc-human .big-screen-action .big-screen-speak span {
				width: 100%;
				height: 100%;
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				display: inline-flex;
				justify-content: center;
				align-items: center;
				transition: all 5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
			}

			.rtc-container .rtc-human .big-screen-action .big-screen-speak .show {
				opacity: 1 !important;
			}

			.rtc-container .rtc-human .big-screen-action .big-screen-wrap {
				position: relative;
				display: flex;
				flex-direction: column;
				height: 100%;
			}

			.rtc-container .rtc-human .big-screen-action .big-screen-wrap .no-opening {
				height: 0 !important;
				padding: 0 !important;
				background-color: rgba(255, 255, 255, 0) !important;
			}

			.rtc-container .rtc-human .big-screen-action .big-screen-wrap .bs-action-top {
				background-color: rgba(255, 255, 255, 0.7);
				padding: 10% 6% 6%;
				word-wrap: break-word;
				word-break: break-all;
				display: flex;
				justify-content: center;
				align-items: center;
				transition: all 0.5s ease-in-out;
			}

			.rtc-container .rtc-human .big-screen-action .big-screen-wrap .bs-action-top .bs-top-text {
				text-align: center;
				width: 100%;
				height: 100%;
				font-weight: 400;
				color: #35394D;
				font-family: 'PingFang SC';
				font-style: normal;
				font-weight: 500;
				font-size: 0.28em;
				line-height: 100%;
				max-height: 60%;
				text-overflow: -o-ellipsis-lastline;
				overflow: hidden;
				text-overflow: ellipsis;
				display: -webkit-box;
				-webkit-line-clamp: 2;
				line-clamp: 2;
				-webkit-box-orient: vertical;
			}

			.rtc-container .rtc-human .big-screen-action .big-screen-wrap .bs-action-top .bs-top-speak {
				width: 100%;
				height: 100%;
				transform: translate(0, 25%);
			}

			.rtc-container .rtc-human .big-screen-action .big-screen-wrap .bs-action-bottom {
				padding: 6%;
				word-wrap: break-word;
				word-break: break-all;
				height: 100%;
			}

			.rtc-container .rtc-human .big-screen-action .big-screen-wrap .bs-action-bottom .bs-bottom-text {
				text-align: center;
				font-weight: 400;
				font-size: 0.3em;
				line-height: 1.5em;
				color: #35394D;
			}

			.rtc-container .rtc-human .big-screen-action .big-screen-wrap .bs-action-bottom .bs-bottom-text.ans-padding {
				padding-top: 10%;
			}

			.rtc-container .rtc-human .mobile-action {
				position: absolute;
				top: 4.4em;
				left: 0.1em;
				background: linear-gradient(180deg, rgba(255, 255, 255, 0.7) 0%, rgba(255, 255, 255, 0.2) 100%);
				border: 0.03em solid #FFFFFF;
				border-radius: 0.36em;
				display: flex;
				flex-direction: column;
				justify-content: flex-end;
			}

			.rtc-container .rtc-human .mobile-action .action-top {
				min-height: 30%;
				border-bottom: 0.01em solid #FFFFFF;
				padding: 2.5% 5%;
				display: flex;
				justify-content: space-between;
				align-items: center;
			}

			.rtc-container .rtc-human .mobile-action .action-top .mobile-text {
				word-wrap: break-word;
				word-break: break-all;
				flex: 1;
				font-size: 0.36em;
				line-height: 1.66666667em;
				max-height: 5em;
				overflow: hidden;
				-webkit-line-clamp: 3;
				text-overflow: ellipsis;
			}

			.rtc-container .rtc-human .mobile-action .action-top .mobile-wos {
				min-width: 10%;
				max-width: 10%;
				aspect-ratio: 1;
				border-radius: 50%;
				background-color: #5991ff;
				display: flex;
				justify-content: center;
				align-items: center;
				margin-right: 2.5%;
			}

			.rtc-container .rtc-human .mobile-action .action-top .mobile-ioa {
				display: flex;
				align-items: center;
				flex: 1;
				height: 62.5%;
			}

			.rtc-container .rtc-human .mobile-action .action-top .mobile-ioa div {
				transform: translate(-10%);
			}

			.rtc-container .rtc-human .mobile-action .action-bottom {
				flex: 1;
				overflow-y: overlay;
				-webkit-mask-image: -webkit-linear-gradient(bottom, rgba(0, 0, 0, 0) 5%, #000000 100%);
			}

			.rtc-container .rtc-human .mobile-action .action-bottom::-webkit-scrollbar {
				width: 6px;
			}

			.rtc-container .rtc-human .mobile-action .action-bottom::-webkit-scrollbar-track {
				background-color: transparent;
				width: 6px;
				border-radius: 0;
			}

			.rtc-container .rtc-human .mobile-action .action-bottom::-webkit-scrollbar-thumb {
				background-color: rgba(0, 0, 0, 0.2);
				border-radius: 10px;
				-webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);
			}

			.rtc-container .rtc-human .mobile-action .action-bottom .action-content {
				padding: 5% 5% 0;
				word-break: break-word;
				word-wrap: break-word;
				font-size: 0.39em;
				line-height: 1.53846154em;
			}

			.rtc-container .rtc-human .mobile-action .big-screen-speak-wrap {
				position: absolute;
				left: 50%;
				width: calc(20% + 0.1em);
				background: rgba(255, 255, 255, 0.5);
				aspect-ratio: 1;
				display: flex;
				justify-content: center;
				align-items: center;
				border-radius: 50%;
				transform: translate(-50%, -50%);
				z-index: 1;
				top: 0;
			}

			.rtc-container .rtc-human .mobile-action .big-screen-speak {
				position: absolute;
				width: calc(100% - 0.1em);
				aspect-ratio: 1;
				border-radius: 50%;
				background: linear-gradient(180deg, #62C6FF 0%, rgba(67, 128, 248, 0.8) 100%), #5991FF;
				display: flex;
				justify-content: center;
				align-items: center;
				cursor: pointer;
			}

			.rtc-container .rtc-human .mobile-action .big-screen-speak .animation-wrap {
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				transition: all 5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
				width: 100%;
				height: 100%;
			}

			.rtc-container .rtc-human .mobile-action .big-screen-speak .hidden {
				opacity: 0 !important;
			}

			.rtc-container .rtc-human .mobile-action .big-screen-speak .yuyin {
				opacity: 0;
			}

			.rtc-container .rtc-human .mobile-action .big-screen-speak span {
				width: 100%;
				height: 100%;
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				display: inline-flex;
				justify-content: center;
				align-items: center;
				transition: all 5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
			}

			.rtc-container .rtc-human .mobile-action .big-screen-speak .show {
				opacity: 1 !important;
			}

			.rtc-container .rtc-human .mobile-action .big-screen-wrap {
				position: relative;
				display: flex;
				flex-direction: column;
				height: 100%;
			}

			.rtc-container .rtc-human .mobile-action .big-screen-wrap .no-opening {
				height: 0 !important;
				padding: 0 !important;
				background-color: rgba(255, 255, 255, 0) !important;
			}

			.rtc-container .rtc-human .mobile-action .big-screen-wrap .bs-action-top {
				background-color: rgba(255, 255, 255, 0.7);
				padding: 10% 6% 6%;
				word-wrap: break-word;
				word-break: break-all;
				display: flex;
				justify-content: center;
				align-items: center;
				transition: all 0.5s ease-in-out;
			}

			.rtc-container .rtc-human .mobile-action .big-screen-wrap .bs-action-top .bs-top-text {
				text-align: center;
				width: 100%;
				height: 100%;
				font-weight: 400;
				color: #35394D;
				font-family: 'PingFang SC';
				font-style: normal;
				font-weight: 500;
				font-size: 0.39em;
				line-height: 100%;
				max-height: 60%;
				text-overflow: -o-ellipsis-lastline;
				overflow: hidden;
				text-overflow: ellipsis;
				display: -webkit-box;
				-webkit-line-clamp: 2;
				line-clamp: 2;
				-webkit-box-orient: vertical;
			}

			.rtc-container .rtc-human .mobile-action .big-screen-wrap .bs-action-top .bs-top-speak {
				width: 100%;
				height: 100%;
				transform: translate(0, 25%);
			}

			.rtc-container .rtc-human .mobile-action .big-screen-wrap .bs-action-bottom {
				padding: 15% 12% 12% 12%;
				word-wrap: break-word;
				word-break: break-all;
				height: 100%;
			}

			.rtc-container .rtc-human .mobile-action .big-screen-wrap .bs-action-bottom .bs-bottom-text {
				text-align: center;
				font-weight: 400;
				font-size: 0.39em;
				line-height: 1.15384615em;
				color: #35394D;
			}

			.rtc-container .rtc-human .mobile-action .big-screen-wrap .bs-action-bottom .bs-bottom-text.ans-padding {
				padding-top: 4%;
			}

			.rtc-container .rtc-human .mobile-action .big-screen-wrap .bs-action-bottom .bs-bottom-text .pre-ans {
				opacity: 0.3;
			}

			.rtc-container .rtc-human .mobile-point {
				position: absolute;
				right: 0;
			}

			.rtc-container .rtc-human .mobile-point .mobile-load {
				position: absolute;
				right: 0;
				top: 0;
				width: 54%;
				height: 39%;
				background-size: contain;
			}

			.rtc-container .rtc-human .mobile-point .mobile-load .svg-wrap {
				position: absolute;
				top: 26%;
				left: 50%;
				width: 24%;
				height: 37.5%;
				transform: translate(-50%);
			}

			.rtc-container .rtc-human .clear {
				position: absolute;
				background: #3071c2;
				box-shadow: 0 0 0.1em #0000000d;
				border-radius: 50%;
				display: flex;
				justify-content: center;
				align-items: center;
			}

			.rtc-container .rtc-human .clear .button-self {
				height: 100%;
				width: 100%;
				box-shadow: 0 0 0.625em #0000000d;
				border-radius: 50%;
				padding: 0;
				outline: 0;
				border: 0;
				display: flex;
				justify-content: center;
				align-items: center;
				background: transparent;
			}

			.rtc-container .rtc-human .clear .button-self span {
				width: 50%;
				height: 50%;
				display: inline-flex;
				justify-content: center;
				align-items: center;
				color: white;
			}

			.rtc-container .rtc-human .func-area {
				display: none !important;
			}

			.rtc-container .rtc-human .human-main {
				width: 598.91666667em;
				height: 100%;
				display: flex;
				justify-content: center;
				align-items: center;
				font-size: 0.12em;
			}

			.rtc-container .rtc-human .human-main .body_canvas {
				filter: unset !important;
				position: relative;
				height: unset !important;
				transition: 0.5s;
			}

			.rtc-container .rtc-human .human-main .chest_up .body_canvas {
				width: 93.75em !important;
				top: 48.12em !important;
			}

			.rtc-container .rtc-human .human-main .full_body .body_canvas {
				width: 34.375em !important;
				top: 1.25em !important;
			}

			.rtc-container .rtc-human .human-main .thigh_up .body_canvas {
				width: 56.25em !important;
				top: 20.625em !important;
			}

			.rtc-container .rtc-human .human-main .shoulder_up .body_canvas {
				width: 112.5em !important;
				top: 65.62em !important;
			}

			.rtc-container .rtc-human .chat-box {
				opacity: 0;
			}

			.rtc-container .rtc-human .chat .body_canvas {
				transform: translate(-24.06em);
			}

			.rtc-container .rtc-human .chat .chat-list::-webkit-scrollbar {
				width: 6px;
			}

			.rtc-container .rtc-human .chat .chat-list::-webkit-scrollbar-track {
				background-color: transparent;
				width: 6px;
				border-radius: 0;
			}

			.rtc-container .rtc-human .chat .chat-list::-webkit-scrollbar-thumb {
				background-color: rgba(0, 0, 0, 0.2);
				border-radius: 10px;
				-webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);
			}

			.rtc-container .rtc-human .chat .chat-box {
				opacity: 1;
				width: 100%;
				height: 100%;
				display: flex;
				flex-direction: column-reverse;
				font-style: normal;
				font-weight: 400;
				font-size: inherit;
				line-height: 1em;
				word-wrap: break-word;
				-webkit-mask-image: -webkit-linear-gradient(top, rgba(0, 0, 0, 0) 5%, #000000 25%);
			}

			.rtc-container .rtc-human .chat .chat-box .chat-list {
				display: flex;
				overflow: auto;
				width: 100%;
				height: 100%;
				flex-direction: column-reverse;
				transition: all 2s;
			}

			.rtc-container .rtc-human .chat .chat-box .chat-list .position-top {
				width: 100%;
				min-height: 5em;
			}

			.rtc-container .rtc-human .chat .chat-box .chat-item-wrap {
				margin-bottom: 3.41%;
				display: flex;
			}

			.rtc-container .rtc-human .chat .chat-box .chat-item-wrap .chat-child {
				padding: 3.421%;
				max-width: 77.16%;
				font-size: 0.2em;
				line-height: 1.4em;
				border-radius: 0.4em;
				min-height: 3em;
			}

			.rtc-container .rtc-human .chat .chat-box .ans-wrap {
				color: #fff;
				justify-content: flex-start;
			}

			.rtc-container .rtc-human .chat .chat-box .que-wrap {
				color: #fff;
				justify-content: flex-end;
			}

			.rtc-container .rtc-human .chat-container {
				flex: 1;
				position: absolute;
				display: flex;
				flex-direction: column;
				justify-content: flex-end;
			}

			.rtc-container .rtc-human .action-bar {
				display: flex;
				height: 0.72em;
				justify-content: flex-end;
			}

			.rtc-container .rtc-human .action-bar .button-wrap {
				height: 0.72em;
				width: 0.72em;
				border-radius: 50%;
				margin-left: 0.2em;
				opacity: 1;
			}

			.rtc-container .rtc-human .action-bar .action-bar-start {
				font-family: 'PingFang SC';
				font-style: normal;
				font-weight: 400;
				font-size: 0.24em;
				text-align: center;
				color: #AAABB3;
				user-select: none;
				cursor: pointer;
			}

			.rtc-container .rtc-human .action-bar .button-self {
				height: 0.72em;
				width: 0.72em;
				border-radius: 50%;
				padding: 0;
				outline: 0;
				border: 0;
				display: flex;
				justify-content: center;
				align-items: center;
				background: transparent;
			}

			.rtc-container .rtc-human .action-bar .button-self span {
				display: flex;
				justify-content: center;
				align-items: center;
				font-size: 0.28em;
				color: white;
			}

			.rtc-container .rtc-human .action-bar .input-wrap {
				width: 5em;
				height: 0.72em;
				background: rgba(255, 255, 255, 0.8);
				box-shadow: 0 0 0.625em #0000000d;
				border-radius: 0.36em;
				justify-content: center;
				align-items: center;
				display: flex;
				padding: 0 0.4em;
				border: 2px solid rgba(0, 0, 0, 0.05);
			}

			.rtc-container .rtc-human .action-bar .input-wrap .ant-input-affix-wrapper {
				font-size: 0.21em;
			}

			.rtc-container .rtc-human .action-bar .input-wrap .ant-input-suffix div {
				display: flex;
				align-items: center;
				justify-content: center;
				font-size: 0.28em;
			}

			.rtc-container .rtc-human .action-bar .input-wrap input {
				font-weight: 400;
				font-size: 0.24em;
				line-height: 1.33333333em;
			}

			.rtc-container .rtc-human .action-bar .input-wrap .animation-wrap {
				width: 100%;
				height: 100%;
				display: flex;
				justify-content: center;
				align-items: center;
			}

			.rtc-container .pre-init-wrap {
				width: 100%;
				height: 100%;
				background-size: cover;
				position: relative;
			}

			.rtc-container .pre-init-wrap .pre-init-mask {
				display: flex;
				justify-content: center;
				align-items: center;
				width: 100%;
				height: 100%;
			}

			.rtc-container .pre-init-wrap .pre-init-mask .role-loading {
				position: absolute;
				top: 5.375em;
				color: #FFF;
				text-align: center;
				font-family: PingFang SC;
				font-size: 0.48em;
				font-style: normal;
				font-weight: 500;
				line-height: normal;
			}

			.rtc-container .pre-init-wrap .pre-init-mask .role-loading-webp {
				position: absolute;
				width: 100%;
				height: 100%;
				background-size: 100% 100%;
			}

			.rtc-container .pre-init-wrap .pre-init-mask .app-human-info {
				height: 12em;
				aspect-ratio: 0.7;
				background-size: 100% 100%;
				position: relative;
			}

			.rtc-container .pre-init-wrap .pre-init-mask .app-human-info .human-info-head {
				width: 2.64em;
				height: 2.64em;
				border-radius: 2.64em;
				overflow: hidden;
				position: absolute;
				top: 2.28em;
				left: 50%;
				transform: translateX(-50%);
				background-color: #fff;
			}

			.rtc-container .pre-init-wrap .pre-init-mask .app-human-info .human-info-head img {
				width: 100%;
				height: 100%;
				object-fit: contain;
				transform: scale(1.15);
				transform-origin: top center;
			}

			.rtc-container .pre-init-wrap .pre-init-mask .app-human-info .human-info-name {
				position: absolute;
				top: 6.14285714em;
				left: 50%;
				transform: translateX(-50%);
				font-size: 0.84em;
				background: linear-gradient(90deg, #1C51BA 0%, #5498FF 100%);
				background-clip: text;
				-webkit-background-clip: text;
				-webkit-text-fill-color: transparent;
				font-weight: 600;
				line-height: normal;
			}

			.rtc-container .pre-init-wrap .pre-init-mask .app-human-info .human-info-role {
				position: absolute;
				top: 15.35714286em;
				left: 50%;
				transform: translateX(-50%);
				color: var(--1, #35394D);
				text-align: center;
				font-family: PingFang SC;
				font-size: 0.42em;
				font-style: normal;
				font-weight: 500;
				line-height: normal;
			}

			.rtc-container .pre-init-wrap .pre-init-mask .app-human-info .human-info-hobis {
				position: absolute;
				width: 7.68em;
				height: 3.84em;
				top: 7.8em;
				left: 50%;
				transform: translateX(-50%);
				padding: 0.24em 0.48em;
				display: flex;
				flex-direction: column;
				justify-content: space-between;
			}

			.rtc-container .pre-init-wrap .pre-init-mask .app-human-info .human-info-hobis .human-jianjie {
				flex: 1;
				display: flex;
				padding: 0.3em 0;
			}

			.rtc-container .pre-init-wrap .pre-init-mask .app-human-info .human-info-hobis .human-jianjie-label {
				width: 2.66666667em;
				height: 1.33333333em;
				display: flex;
				justify-content: center;
				align-items: center;
				border-radius: 0.16666667em;
				background: var(--1, #35394D);
				color: #FFF;
				font-family: PingFang SC;
				font-size: 0.36em;
				font-style: normal;
				font-weight: 500;
				line-height: 1.33333333em;
				margin-right: 0.66666667em;
				/* 133.333% */
			}

			.rtc-container .pre-init-wrap .pre-init-mask .app-human-info .human-info-hobis .human-jianjie-content {
				flex: 1;
				display: flex;
				flex-wrap: wrap;
				color: var(--2, #666A80);
				font-family: PingFang SC;
				font-size: 0.36em;
				font-style: normal;
				font-weight: 400;
				line-height: 1.33333333em;
				/* 133.333% */
			}

			.rtc-container .pre-init-wrap .pre-init-mask .wait-list {
				width: 6em;
				height: 6em;
				border-radius: 0.6em;
				background: rgba(255, 255, 255, 0.9);
				overflow: hidden;
				position: relative;
				display: flex;
				flex-direction: column;
				align-items: center;
				padding: 0.66em;
			}

			.rtc-container .pre-init-wrap .pre-init-mask .wait-list .bg-div {
				width: 100%;
				height: 100%;
				background-size: contain;
				position: absolute;
				top: 0;
				left: 0;
			}

			.rtc-container .pre-init-wrap .pre-init-mask .wait-list .wait-header {
				width: 3em;
				height: 3em;
				display: flex;
				position: relative;
				justify-content: center;
				align-items: center;
			}

			.rtc-container .pre-init-wrap .pre-init-mask .wait-list .wait-header .wait-img {
				position: absolute;
				width: 100%;
				height: 100%;
				background-size: contain;
				animation: rotate 2s linear infinite;
			}

			.rtc-container .pre-init-wrap .pre-init-mask .wait-list .wait-header .wait-img-ava {
				width: 2.4em;
				height: 2.4em;
				border-radius: 2.4em;
				background-color: #fff;
				overflow: hidden;
			}

			.rtc-container .pre-init-wrap .pre-init-mask .wait-list .wait-header .wait-img-ava img {
				width: 100%;
				height: 100%;
				object-fit: contain;
				transform: scale(1.15);
				transform-origin: top center;
			}

			.rtc-container .pre-init-wrap .pre-init-mask .wait-list .wait-busy-text {
				color: var(--1, #35394D);
				text-align: center;
				font-family: PingFang SC;
				font-size: 0.48em;
				font-style: normal;
				font-weight: 500;
				line-height: normal;
				margin-bottom: 0.5em;
			}

			.rtc-container .pre-init-wrap .pre-init-mask .wait-list .wait-busy-list {
				color: var(--3, #AAABB2);
				text-align: center;
				font-family: PingFang SC;
				font-size: 0.36em;
				font-style: normal;
				font-weight: 400;
				line-height: 1.33333333em;
				/* 133.333% */
			}

			.rtc-container .pre-init-wrap .pre-init-mask .wait-list .wait-busy-list span {
				color: var(--blue, #5991FF);
			}

			.web {
				position: relative !important;
			}

			.app-human-chat {
				position: absolute;
				width: 1.68em;
				height: 1.68em;
				bottom: 1.6em;
				z-index: 999;
			}

			.app-human-chat img {
				width: 100%;
				height: 100%;
				object-fit: contain;
			}

			.no-clicking {
				opacity: 0.3 !important;
			}

			.app-human-chat-text {
				z-index: 999;
				position: absolute;
				bottom: 2.14285714em;
				color: #FFF;
				text-align: center;
				font-family: PingFang SC;
				font-size: 0.42em;
				font-style: normal;
				font-weight: 500;
				line-height: normal;
			}

			@keyframes rotate {
				0% {
					transform: rotate(0deg);
				}

				100% {
					transform: rotate(360deg);
				}
			}

			.greet-wrap {
				display: flex;
				width: 1.82em;
				height: 1.82em;
				justify-content: center;
				align-items: center;
				z-index: 2;
			}

			.greet-wrap .center {
				margin: 0 auto;
			}

			.greet-wrap .outer-ring {
				position: absolute;
				height: 1.82em;
				width: 1.82em;
				background-image: linear-gradient(135deg, #feed07 0%, #538cbd 5%, #264ebb 10%, #22b9b3 40%, #1badc3 100%);
				border-radius: 50%;
				/*  Rotate  */
				animation-duration: 2.8s;
				animation-name: rotate;
				animation-iteration-count: infinite;
			}

			.greet-wrap .inner-ring {
				position: absolute;
				height: 1.3em;
				width: 1.3em;
				background: #fff;
				border-radius: 50%;
				display: flex;
				justify-content: center;
				align-items: center;
			}

			@keyframes rotate {
				0% {
					transform: rotate(0deg);
				}

				100% {
					transform: rotate(360deg);
				}
			}

			.sdk-load {
				position: fixed;
				top: 0;
				left: 0;
				width: 100vw;
				height: 100vh;
				display: flex;
				justify-content: center;
				align-items: center;
				z-index: 999999;
				background-color: rgba(0, 0, 0, 0.8);
			}

			.sdk-load .greet-wrap {
				width: 100px;
				height: 100px;
				position: relative;
			}

			.sdk-load .greet-wrap .outer-ring {
				width: 100%;
				height: 100%;
			}

			.sdk-load .greet-wrap .inner-ring {
				width: 70%;
				height: 70%;
			}

			.button-wrap .ant-btn {
				transition: none;
			}

			.anima-enter,
			.anima-appear {
				opacity: 0 !important;
			}

			.anima-enter-active {
				transition: opacity 300ms ease !important;
			}

			.anima-enter-done {
				opacity: 1;
			}

			.anima-exit-active {
				opacity: 0 !important;
				transition: opacity 300ms ease !important;
			}

			.anima-exit-done {
				opacity: 0 !important;
			}

			.mode-option {
				position: absolute;
				left: 0;
				top: 50%;
				z-index: 10000;
			}

			.mode-option .mode-option-item {
				display: flex;
				flex-direction: column;
				justify-content: center;
				align-items: center;
				width: 100%;
				aspect-ratio: 1.33333333;
				border-radius: 0px 2.66666667em 2.66666667em 0px;
				background: linear-gradient(180deg, rgba(255, 255, 255, 0.6) 0%, rgba(255, 255, 255, 0.2) 100%);
				box-shadow: 0px 2.29166627px 5.49999857px 0px rgba(0, 0, 0, 0.06);
				margin-bottom: 1.25em;
				color: var(--2, #666A80);
				text-align: center;
				font-family: PingFang SC;
				font-size: 0.24em;
				font-style: normal;
				font-weight: 500;
				line-height: normal;
				padding-right: 0.41666667em;
			}

			.mode-option .mode-option-item .select-option-icon {
				transform: scale(1.5);
				transform-origin: bottom;
				margin-bottom: 0.20833333em;
			}

			.mode-option .selected {
				background: linear-gradient(180deg, rgba(98, 198, 255, 0.9) 0%, rgba(67, 128, 248, 0.9) 100%);
				color: #fff;
			}

			.think-img {
				position: absolute;
				top: 0.9em;
				left: 0.9em;
				width: 30%;
				height: 30%;
			}

			.think-img img {
				width: 100%;
				height: 100%;
				object-fit: contain;
			}

			.global-video {
				position: absolute;
			}

			.display-video {
				position: absolute;
			}

			.anima {
				position: absolute;
			}

			.anima img {
				width: 100%;
				height: 100%;
			}

			.anima .global-image,
			.anima .display-image {
				width: 100%;
				height: 100%;
			}

			.anima .global-image img,
			.anima .display-image img {
				vertical-align: top;
				width: 100%;
				height: 100%;
			}

			.anima video {
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				object-fit: contain;
			}

			.anima .log-video-play {
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				width: 40%;
				height: 40%;
				cursor: pointer;
				background-size: contain;
				z-index: 2;
			}

			#emoteStreamContainer {
				position: relative;
			}

			#emoteStreamContainer video {
				position: absolute;
				top: 0;
				height: 200% !important;
				object-fit: contain;
			}

			.test-button {
				position: fixed;
				left: 0;
				top: 10%;
				width: 2em;
				height: 2em;
				z-index: 99999999;
				opacity: 0.1;
			}

			.get-mircorphone-modal {
				width: 8.4em !important;
				height: 5.7em !important;
				border-radius: 0.36em;
				overflow: hidden;
				padding: 0 !important;
			}

			.get-mircorphone-modal .ant-modal-content {
				width: 100%;
				height: 100%;
				border-radius: 0;
				display: flex;
			}

			.get-mircorphone-modal .ant-modal-content .ant-modal-close {
				display: none;
			}

			.get-mircorphone-modal .ant-modal-content .ant-modal-body {
				padding: 0;
				flex: 1;
			}

			.get-mircorphone-modal .ant-modal-content .ant-modal-body .ant-modal-confirm-body-wrapper {
				width: 100%;
				height: 100%;
				display: flex;
			}

			.get-mircorphone-modal .ant-modal-content .ant-modal-body .ant-modal-confirm-body-wrapper .anticon-exclamation-circle {
				display: none;
			}

			.get-mircorphone-modal .ant-modal-content .ant-modal-body .ant-modal-confirm-body-wrapper .ant-modal-confirm-body {
				padding: 28px 20px 20px 20px;
				flex: 1;
				display: flex;
				align-items: center;
				flex-direction: column;
			}

			.get-mircorphone-modal .ant-modal-content .ant-modal-body .ant-modal-confirm-body-wrapper .ant-modal-confirm-body .ant-modal-confirm-title {
				color: var(--1, #35394D);
				text-align: center;
				font-family: PingFang SC;
				font-size: 0.48em;
				font-style: normal;
				font-weight: 500;
				line-height: normal;
				padding-bottom: 0.75em;
			}

			.get-mircorphone-modal .ant-modal-content .ant-modal-body .ant-modal-confirm-body-wrapper .ant-modal-confirm-body .ant-modal-confirm-content {
				margin: 0;
				flex: 1;
				color: var(--2, #666A80);
				text-align: center;
				font-family: PingFang SC;
				font-size: 0.42em;
				font-style: normal;
				font-weight: 400;
				line-height: normal;
				display: flex;
				flex-direction: column;
				justify-content: space-between;
			}

			.get-mircorphone-modal .ant-modal-content .ant-modal-body .ant-modal-confirm-body-wrapper .ant-modal-confirm-body .ant-modal-confirm-content .I-know {
				border-radius: 1.42857143em;
				background: var(--blue, #5991FF);
				height: 2.85714286em;
				display: flex;
				justify-content: center;
				align-items: center;
				color: var(--white, #FFF);
				text-align: center;
				/* 14 */
				font-family: PingFang SC;
				font-size: 0.42em;
				font-style: normal;
				font-weight: 400;
				line-height: normal;
				cursor: pointer;
				user-select: none;
			}

			.get-mircorphone-modal .ant-modal-content .ant-modal-body .ant-modal-confirm-body-wrapper .ant-modal-confirm-btns {
				display: none;
			}

			.animation-wrap div {
				display: flex;
				justify-content: center;
				align-items: center;
			}

			#remoteStreamContainer {
				position: absolute;
				width: 100%;
				height: 100%;
			}

			.matt video {
				position: absolute;
				top: 0;
			}
		</style>
		<link rel="dns-prefetch" href="https://schedule.cloud-rtc.com/">
		<link rel="dns-prefetch" href="https://schedule.cloud-rtc.net/">
		<link rel="dns-prefetch" href="https://schedule.rtc-web.com/">
		<link rel="dns-prefetch" href="https://schedule.rtc-web.io/">
		<link rel="dns-prefetch" href="https://schedule.rtc.tencentcloud.com/">
		<link rel="dns-prefetch" href="https://schedule-ecdn.rtc.tencentcloud.com/">
		<script src="./testChat_files/icons_22525_90.63898555774fb1e6965505d908f8c75a.es5.js.下载"></script>
		<style>
			.trtc_autoplay_mask {
				position: fixed;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				width: 100vw;
				height: 100vh;
				display: flex;
				justify-content: center;
				align-items: center;
				background: rgba(0, 0, 0, 0.5);
				z-index: 1500;
			}

			.trtc_autoplay_mask div:not(.trtc_autoplay_action_wrapper) {
				display: block !important;
			}

			.trtc_autoplay_wrapper {
				padding: 14px;
				background: #fff;
				border-radius: 3px;
				box-shadow: 0px 3px 15px #434343;
				border: 1px solid #d1cfcf;
				max-width: 500px;
			}

			.trtc_autoplay_wrapper a {
				color: #2473E8;
			}

			.trtc_autoplay_header {
				overflow: hidden;
				text-overflow: ellipsis;
				font-size: 16px;
				font-weight: 600;
			}

			.trtc_autoplay_content {
				margin: 8px 0;
			}

			.trtc_autoplay_action_wrapper {
				width: 100%;
				display: flex !important;
				align-items: center;
				justify-content: right;
				float: right;
			}

			.trtc_autoplay_collapse {
				margin-right: auto;
				cursor: pointer
			}

			.trtc_autoplay_question {
				height: 100%;
				line-height: 16px;
				cursor: pointer;
			}

			.trtc_autoplay_action_confirm {
				margin-left: 8px;
				color: #fff;
				background: #2473E8;
				padding: 4px 12px;
				outline: none;
				border: 1px solid;
				border-radius: 3px;
				font-weight: bold;
			}

			.trtc_autoplay_action_confirm:hover {
				opacity: 0.9;
			}

			.trtc_autoplay_collapse,
			.trtc_autoplay_action_confirm,
			.trtc_autoplay_content,
			.trtc_autoplay_question {
				font-size: 14px;
			}

			@media screen and (max-width:750px) {
				.trtc_autoplay_wrapper {
					width: 80vw;
				}
			}
		</style>
	</head>
	<body style="">
		<!-- <button onclick="start()">开启</button> <br> -->
		<input id="signature" type="text" placeholder="签名" style="display:none;">
		<br>
		<input id="projectId" type="text" placeholder="项目ID" style="display:none;">
		<!-- 		<div class="box"
			style="width: 20vw; height: 30vh; margin-top: 20px;margin: 0 auto;position: fixed;bottom: 50px;">
		</div> -->
		<div style="display: flex;align-items: center;justify-content: center;margin-top: 20px;">
			<!-- <input id="textId" type="text" placeholder="文本ID"> -->
			<div>
				<div id="recognizeText" class="recognize_text"></div>
			</div>
			<button onclick="submit()">提交</button>
			<!-- 语音输入 -->
			<div class="main">
				<div class="btns_wrap">
					<button class="button" id="start">点击开始识别</button>
					<!-- <div class="connecting hide" id="connecting">建立连接中...</div> -->
					<span class="recognizing hide" id="recognizing">识别中...</span>
					<button class="button end_btn" id="end">结束识别</button>
				</div>
				<!-- 				<div>
					<div id="recognizeText" class="recognize_text"></div>
				</div> -->
			</div>



			<div class="name">欢迎来到导览数字人</div>
		</div>

		<div class="demo_container">
			<!-- <button id="auth_micro">点击授权麦克风</button> -->
			<div>
				<!-- <div>subscription-key</div> -->
				<input id="subscriptionKeyInput" value="" type="text" style="display:none;">
				<!-- <button id="getSignature">第⼆步：左侧输⼊subscription-key，然后点击获取signature</button> -->
				<!-- <button id="getSignature">第⼆步：点击获取signature</button> -->
			</div>

		</div>
		<div class="chat-container">
			<div class="box"
				style="width: 100px; height: 200px; margin: 0px auto; position: absolute; bottom: 30px; font-size: 9.25926px;">
				<div class="moke-wrap">
					<div class="rtc-container">
						<div id="remoteStreamContainer" class="matt"
							style="width: 1080px; height: 1920px; left: -9999px; position: absolute;"></div>
						<div class="rtc-human" style="width: 10.8em; height: 19.2em;"></div>
					</div>
				</div>
			</div>
			<div class="chat-display">
				<!-- 对话展示框将在这里 -->
				<div class="scroll-list">

					<div class="show-date">09-16 10:35</div>
					<div class="row tips-text"></div>
					<div class="row" style="height: auto;">
						<div class="head-friend">
							<img class="avatar" src="./testChat_files/76483eaf106b46d4ba47aede8efe2d76">
						</div>
						<div>
							<div class="AInick">AI机器人</div>
							<div class="message msg-friend">
								<div><span>欢迎来到导览数字人</span></div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="list-container">
				<div id="dataContainer"></div>
				<button id="nextBatch">换一批</button>
			</div>
			<div class="chat-input">
				<input type="text" id="message-input" placeholder="请输入内容">
				<button id="submit-btn">发送</button>
			</div>
		</div>

		<script src="./testChat_files/axios.min.js.下载"></script>

		<script>
			// 模拟数据
			const chatList = [
				// {
				// 	date: '2024-09-10',
				// 	type: 'normal',
				// 	msgId: 1,
				// 	nickname: 'Alice',
				// 	avatar: 'https://image.yuanqilian.com:4443/2e0a3dd4693e4ed537410cad5c59c0f5',
				// 	message: 'Hello!'
				// },
				// {
				// 	date: '2024-09-11',
				// 	type: 'custom',
				// 	msgId: 2024,
				// 	nickname: 'Bob',
				// 	avatar: 'https://image.yuanqilian.com:4443/2e0a3dd4693e4ed537410cad5c59c0f5',
				// 	message: 'How are you?'
				// }
			];

			const login = {
				id: 1
			};

			// 渲染函数
			const renderedMessages = [];

			function renderChat() {
				const scrollList = document.querySelector('.scroll-list');

				chatList.forEach((item, index) => {
					if (!renderedMessages.includes(item.date)) {
						//console.log(renderedMessages.includes(item.date))
						let dateElement = '';
						if (item.date) {
							dateElement = `<div class="show-date">${item.date1}</div>`;
						}

						let customElement = '';
						if (item.type === 'custom') {
							customElement = `<div class="row tips-text"></div>`;
						}

						let mainElement = '';
						if (login.id === item.msgId) {
							mainElement =
								`<div class="row row-self" style="height: auto;">
								<div class="head-self">
									<img class="avatar" src="${item.avatar}">
								</div>
								<div>
								<div class="Mynick">&nbsp;&nbsp;&nbsp;</div>
									<div class="message msg-self">
										<div><span>${item.message}</span></div>
									</div>
								</div>
							</div>`;
						} else {
							mainElement =
								`<div class="row" style="height: auto;">
								<div class="head-friend">
									<img class="avatar" src="${item.avatar}">
								</div>
								<div>
									<div class="AInick">${item.nickname}</div>
									<div class="message msg-friend">
										<div><span>${item.message}</span></div>
									</div>
								</div>
							</div>`;
						}

						const chatItem = `${dateElement}${customElement}${mainElement}`;

						scrollList.innerHTML += chatItem;

						renderedMessages.push(item.date);
					}
					//console.log(renderedMessages)

				});
			}

			// 执行渲染
			renderChat();
		</script>

		<script>
			// 获取元素
			const messageInput = document.getElementById('message-input');
			const submitBtn = document.getElementById('submit-btn');
			const chatDisplay = document.querySelector('.chat-display');

			// 添加事件监听器
			submitBtn.addEventListener('click', sendMessage);

			// 定义函数：发送消息
			function sendMessage() {
				// 获取输入的消息内容
				const message = messageInput.value;
				var date = new Date();
				var month = date.getMonth() + 1;
				var day = date.getDate();
				var hour = date.getHours();
				var minu = date.getMinutes();
				var sec = date.getSeconds();
				var now1 = month < 10 ? '0' + month : month;
				var now2 = day < 10 ? '0' + day : day;
				hour = hour < 10 ? "0" + hour : hour;
				minu = minu < 10 ? "0" + minu : minu;
				sec = sec < 10 ? "0" + sec : sec;
				//console.log(now1 + '-' + now2 + ' ' + hour + ':' + minu)

				var msg = {
					date: now1 + '-' + now2 + ' ' + hour + ':' + minu + ':' + sec,
					date1: now1 + '-' + now2 + ' ' + hour + ':' + minu,
					type: 'normal',
					msgId: 1,
					nickname: '自己',
					avatar: 'https://image.yuanqilian.com:4443/2e0a3dd4693e4ed537410cad5c59c0f5',
					message: message
				}
				chatList.push(msg);
				console.log(chatList);

				axios.post('http://192.168.1.31:3000/api/AImodels/search1', {
						searchData: message
					})
					.then(response => {
						//console.log(response.data.data);
						answer = {
							date1: now1 + '-' + now2 + ' ' + hour + ':' + minu,
							date: response.data.data.date,
							type: 'custom',
							msgId: response.data.data.msgId,
							nickname: response.data.data.nickname,
							avatar: response.data.data.avatar,
							message: response.data.data.message
						}
						console.log(answer);
						chatList.push(answer);
						console.log(chatList);
						renderChat();
						chatDisplay.scrollTop = chatDisplay.scrollHeight;

						// 清空输入框
						messageInput.value = '';
					})
					.catch(error => {
						console.error('Error:', error);
					});

				// renderChat();
				// chatDisplay.scrollTop = chatDisplay.scrollHeight;

				// // 清空输入框
				// messageInput.value = '';

			}
		</script>
		<script src="./testChat_files/jquery.min.js.下载"></script>
		<script src="./testChat_files/axios.min(1).js.下载"></script>
		<script src="./testChat_files/xiaoiceASR1.0.5.js.下载" type="text/javascript"></script>
		<script src="./testChat_files/xiaoiceRTC1.0.6.js.下载" type="text/javascript"></script>
		<script>
			// 使用fetch发送请求
			fetch('https://interactive-virtualhuman.xiaoice.com/openapi/signature/gen', {
					method: 'get',
					headers: {
						'subscription-key': 'c274a8557dd84e318f6b1ee83f84e188'
					},
				})
				.then(response => response.json())
				.then(data => {
					console.log(data);
					var signatureInput = document.getElementById('signature');
					var projectIdInput = document.getElementById('projectId');
					signatureInput.value = data.data;
					projectIdInput.value = 'f1aaa7de-7012-11ef-b34d-59e9c739be64';
					start1();

					var signature = document.getElementById('signature').value
					console.log("标记信息", signature)
				})
				.catch(error => {
					console.error('Error:', error);
				});

			fetch('https://interactive-virtualhuman.xiaoice.com/openapi/talk/faq/list', {
					method: 'post',
					headers: {
						'signature': 'eyJhbGciOiJIUzI1NiJ9.eyJwYXlsb2FkIjoie1wiY29tcGFueUlkXCI6XCIyZjFmNzE0OGNmNzM0YWEyOTUxOTg1NTFmNGY4NmQ1OVwiLFwiaWRlbnRpZmljYXRpb25JZFwiOlwiMjNjNjg5ZTMtNDMyYy0xMWVlLTg0MzEtNmQzMGEwMjU1NzEwLWludGVyYWN0aXZlLWJhY2tlbmRcIixcInRva2VuSWRcIjpcImMwODE3MzA4MTA1ZDQwY2U5ZDg5NGZlMDFhZGM3ZjBmXCJ9IiwiaWF0IjoxNzI2Mjg2MzQ1LCJleHAiOjE3MjYzNzI3NDV9.DfFPjVlAHmTc75l23i226unnFgMlVWnqwigvZWwfc_A',
						'Content-Type': 'application/json'
					},
					body: JSON.stringify({
						'projectId': 'f1aaa7de-7012-11ef-b34d-59e9c739be64'
					}),
					mode: 'cors',
					cache: 'no-cache',
					credentials: 'same-origin',
					redirect: 'follow',
					referrerPolicy: 'no-referrer'
				})
				.then(response => response.json())
				.then(data => {
					console.log(data.data.list);
					const dataArray = data.data.list;
					let currentIndex = 0;

					function displayData() {
						const container = document.getElementById('dataContainer');
						container.innerHTML = '';
						for (let i = currentIndex; i < currentIndex + 5 && i < dataArray.length; i++) {
							const itemDiv = document.createElement('div');
							itemDiv.classList.add('item');
							itemDiv.innerHTML = `<span>${dataArray[i].standardQuestion}</span>`;
							// 添加点击事件监听器
							itemDiv.addEventListener('click', function() {
								handleItemClick(dataArray[i]);
							});
							container.appendChild(itemDiv);
						}
					}
					document.getElementById('nextBatch').addEventListener('click', () => {
						currentIndex += 5;
						if (currentIndex >= dataArray.length) {
							currentIndex = 0;
						}
						displayData();
					});
					displayData();
				})
				.catch(error => {
					console.error('Error:', error);
				});


			function handleItemClick(item) {
				console.log(`点击了：${item.standardQuestion}`);
				var signature = document.getElementById('signature').value;
				var projectId = document.getElementById('projectId').value;

				var date = new Date();
				var month = date.getMonth() + 1;
				var day = date.getDate();
				var hour = date.getHours();
				var minu = date.getMinutes();
				var sec = date.getSeconds();
				var now1 = month < 10 ? '0' + month : month;
				var now2 = day < 10 ? '0' + day : day;
				hour = hour < 10 ? "0" + hour : hour;
				minu = minu < 10 ? "0" + minu : minu;
				sec = sec < 10 ? "0" + sec : sec;

				question = {
					date1: now1 + '-' + now2 + ' ' + hour + ':' + minu,
					date: now1 + '-' + now2 + ' ' + hour + ':' + minu + ':' + sec,
					type: 'normal',
					msgId: 1,
					nickname: '自己',
					avatar: 'https://image.yuanqilian.com:4443/99ef9ec248bd4c406fcec7097632f80d',
					message: `${item.standardQuestion}`
				}
				console.log(question);
				chatList.push(question);
				console.log(chatList);
				renderChat();
				chatDisplay.scrollTop = chatDisplay.scrollHeight;

				// 清空输入框
				messageInput.value = '';

				const Client = new window.RTCInteraction({
					mountClass: "box",
					signature: signature,
					projectId: projectId,
					// includeUI: true,
				});
				Client.breakTalking();
				Client.ask(`${item.standardQuestion}`, false)
				// 在这里执行你想要的操作
			}
		</script>
		<script>
			const start1 = (e) => {
				//signature获取通过/openapi/signature/gen，详见API接⼊说明文档
				var signature = document.getElementById('signature').value;
				var projectId = document.getElementById('projectId').value;
				if (!signature || !projectId) {
					alert('请输⼊签名和项目ID')
					return
				}
				const Client = new window.RTCInteraction({
					mountClass: "box",
					signature: signature,
					projectId: projectId,
					// includeUI: true,
					onError(errorMes) {
						console.log(errorMes);
					},
					onInited(res) {
						console.log("inited", res);
						Client.startRTC()
					},
					onPlayStream(v3Orv4) {
						console.log("play");
						console.log("v3Orv4", v3Orv4);
					},
					onStopStream() {
						console.log("stop");
					},
					onTalkStart(talkRes) {
						console.log("说话前", talkRes);
						const nameElements = document.getElementsByClassName("name");
						for (let i = 0; i < nameElements.length; i++) {
							nameElements[i].textContent = talkRes.originalAnswer.replyText
						}

						var date = new Date();
						var month = date.getMonth() + 1;
						var day = date.getDate();
						var hour = date.getHours();
						var minu = date.getMinutes();
						var sec = date.getSeconds();
						var now1 = month < 10 ? '0' + month : month;
						var now2 = day < 10 ? '0' + day : day;
						hour = hour < 10 ? "0" + hour : hour;
						minu = minu < 10 ? "0" + minu : minu;
						sec = sec < 10 ? "0" + sec : sec;

						answer = {
							date1: now1 + '-' + now2 + ' ' + hour + ':' + minu,
							date: now1 + '-' + now2 + ' ' + hour + ':' + minu + ':' + sec,
							type: 'custom',
							msgId: 0,
							nickname: 'AI机器人',
							avatar: 'https://image.yuanqilian.com:4443/76483eaf106b46d4ba47aede8efe2d76',
							message: talkRes.originalAnswer.replyText
						}
						console.log(answer);
						chatList.push(answer);
						console.log(chatList);
						renderChat();
						chatDisplay.scrollTop = chatDisplay.scrollHeight;

						// 清空输入框
						messageInput.value = '';
						talkRes.originalAnswer.replyText
					},
					onTalkEnd(talkRes) {
						console.log(talkRes);
					}
				});
			}
		</script>
		<script>
			const submit = (e) => {
				var signature = document.getElementById('signature').value;
				var projectId = document.getElementById('projectId').value;
				var textId = document.getElementById('recognizeText').value;
				var element = document.getElementById('recognizeText');

				const Client = new window.RTCInteraction({
					mountClass: "box",
					signature: signature,
					projectId: projectId,
					// includeUI: true,
				});
				Client.ask(element.textContent, false)
				element.textContent = "";
			};
		</script>

		<script>
			console.log('==>AsrSDK', window.AsrSDK)
			$(function() {
				//let signature = '';
				signature = document.getElementById('signature').value;
				let subscriptionKey = 'c274a8557dd84e318f6b1ee83f84e188'
				var subscriptionKeyInput = document.getElementById('subscriptionKeyInput');
				subscriptionKeyInput.value = 'c274a8557dd84e318f6b1ee83f84e188';
				const service = axios.create({
					baseURL: 'https://interactive-virtualhuman.xiaoice.com/openapi'
				})
				service.interceptors.response.use((response) => {
					if (response.status === 200 && response.data?.code === 200) {
						return response.data?.data
					}
					return Promise.reject(response.data)
				}, (error) => {
					console.log('错误', error)
					return Promise.reject(error)
				})
				let asr;

				$('#start').on('click', function() {
					window.AsrSDK.authUseMicrophone().then(res => {
						console.log('==>授权成功', res)
					}).catch(err => {
						console.log('==>授权失败', err)
					})

					signature = document.getElementById('signature').value;
					//console.log(signature);
					if (!signature) {
						alert('signature 不能为空')
						return;
					}
					asr = new window.AsrSDK({
						// 开始识别
						onRecognitionStart: (res) => {
							console.log('开始识别', res);
						},
						// ⼀句话开始
						onSentenceBegin: (res) => {
							console.log('⼀句话开始', res);
							isCanStop = true;
							$('#end').show();
							$('#recognizing').show();
							// $('#connecting').hide();
						},
						// 识别变化时
						onRecognitionResultChange: (res) => {
							console.log('识别变化时', res);
							const currentText = `${resultText}${res.result.voice_text_str}`;
							areaDom.text(currentText);
						},
						// ⼀句话结束
						onSentenceEnd: (res) => {
							console.log('⼀句话结束', res);
							resultText += res.result.voice_text_str;
							areaDom.text(resultText);
						},
						// 识别错误
						onError: (res) => {
							console.log('识别失败', res)
							$('#end').hide();
							$('#recognizing').hide();
							$('#start').show();
							// $('#connecting').hide();
						},
						projectId: "f1aaa7de-7012-11ef-b34d-59e9c739be64"
					});
					asr.setIsDebug(true)
					const areaDom = $('#recognizeText');
					areaDom.text('');
					let resultText = '';
					$(this).hide();
					// $('#connecting').show();
					asr.start(signature);
				});
				$('#end').on('click', function() {
					// 	var element = document.getElementById('recognizeText');
					// 	var textValue = element.textContent || element.innerText;
					// 	console.log(textValue);	
					// var textIdInput = document.getElementById('textId');
					// textIdInput.value = textValue;
					// element.textContent = ""; 
					// element.innerHTML = "";
					$(this).hide();
					$('#recognizing').hide();
					$('#start').show();
					if (isCanStop) {
						asr.stop();
					}
				});
			});
		</script>

	</body>
</html>
